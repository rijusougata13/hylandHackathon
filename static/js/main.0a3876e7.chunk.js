(this["webpackJsonpprobook-client"]=this["webpackJsonpprobook-client"]||[]).push([[0],{183:function(e,t,n){},192:function(e,t,n){"use strict";n.r(t);var r,a=n(1),c=n.n(a),i=n(42),s=n.n(i),o=n(23),l=n.n(o),d=n(106),u=n(250),j=(n(183),n(13)),x=n(239),b=n(34),p=n(3),h=n(32),f=n(245),O=n(258),g=n(259),m=n(18),w=n(19),v=n(11),y=n.n(v),S=n(17),k=n(28),I=Object(k.b)("auth/loginUser",function(){var e=Object(S.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/auth/login",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),z=Object(k.b)("auth/registerUser",function(){var e=Object(S.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/auth/register",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C=Object(k.b)("auth/getProfile",function(){var e=Object(S.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/api/profile/"+t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),L=Object(k.b)("auth/getUsers",Object(S.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/auth/users/");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),R=Object(k.c)({name:"auth",initialState:{status:"idle",isLoggedIn:!1,user:{},profile:{},userStatus:"idle",users:[]},reducers:{setAuth:function(e,t){e.isLoggedIn=t.payload.isLoggedIn},logout:function(e,t){localStorage.clear(),e.isLoggedIn=!1,l.a.defaults.headers.common.authorization=null},setUser:function(e,t){e.user=t.payload}},extraReducers:(r={},Object(p.a)(r,I.pending,(function(e,t){e.status="loading"})),Object(p.a)(r,I.fulfilled,(function(e,t){var n=t.payload.response,r=n.token,a=n.name,c=n.email,i=n._id;localStorage.setItem("login",JSON.stringify({token:r,email:c,_id:i,name:a,isLoggedIn:!0})),e.user.name=a,e.user.email=c,e.user._id=i,e.status="success",e.isLoggedIn=!0})),Object(p.a)(r,I.rejected,(function(e,t){e.status="failed",e.isLoggedIn=!1})),Object(p.a)(r,z.pending,(function(e,t){e.status="loading"})),Object(p.a)(r,z.fulfilled,(function(e,t){e.status="success";var n=t.payload.response,r=n.token,a=n.name,c=n.email;localStorage.setItem("login",JSON.stringify({token:r,name:a,email:c,isLoggedIn:!0})),e.user.name=a,e.user.email=c,e.isLoggedIn=!0})),Object(p.a)(r,z.rejected,(function(e,t){e.status="failed",e.isLoggedIn=!1})),Object(p.a)(r,C.pending,(function(e,t){e.status="loading"})),Object(p.a)(r,C.fulfilled,(function(e,t){e.status="success",e.profile=t.payload.profile})),Object(p.a)(r,C.rejected,(function(e,t){e.status="failed"})),Object(p.a)(r,L.pending,(function(e,t){e.userStatus="loading"})),Object(p.a)(r,L.fulfilled,(function(e,t){e.userStatus="success",e.users=t.payload.response.users})),Object(p.a)(r,L.rejected,(function(e,t){e.userStatus="failed"})),r)}),_=R.reducer,D=R.actions,A=D.setAuth,P=D.logout,T=n(0);function W(){var e=Object(a.useState)({email:"",password:""}),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(m.b)(),i=Object(w.g)(),s=Object(m.c)((function(e){return e.auth})),o=s.status,l=s.isLoggedIn;return Object(a.useEffect)((function(){l&&i.push("/")}),[l,i]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(I(n))},children:[Object(T.jsx)(f.a,{onChange:function(e){return r((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},sx:{width:"100%",margin:"1rem 0",bgcolor:"#fff"},variant:"outlined",label:"Enter Email",type:"email",required:!0,name:"email"}),Object(T.jsx)(f.a,{sx:{width:"100%",margin:"1rem 0",bgcolor:"#fff"},variant:"outlined",label:"Enter Password",type:"password",required:!0,onChange:function(e){return r((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},name:"password"}),Object(T.jsx)(O.a,{disabled:0===n.email.trimStart().length||0===n.password.trimStart().length,sx:{width:"100%",margin:"1.5rem 0",padding:"12px 0",borderRadius:"28px"},variant:"contained",color:"primary",type:"submit",children:"loading"===o?Object(T.jsx)(g.a,{size:24,sx:{color:"#FFF"}}):"Login"})]}),Object(T.jsx)(O.a,{onClick:function(){r({email:"tomato@mail.com",password:"tomato"}),c(I({email:"tomato@mail.com",password:"tomato"}))},sx:{width:"100%",margin:".5rem 0 1rem 0.5rem",padding:"12px 0",borderRadius:"28px"},variant:"outlined",color:"primary",children:"loading"===o?"Logging in...":"Login as guest"})]})}function E(){var e=Object(a.useState)({name:"",handle:"",email:"",password:""}),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(m.b)(),i=Object(w.g)(),s=Object(m.c)((function(e){return e.auth})),o=s.status,l=s.isLoggedIn;return Object(a.useEffect)((function(){l&&i.push("/")}),[l,i]),Object(T.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(z(n))},children:[Object(T.jsx)(f.a,{onChange:function(e){return r((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},name:"name",sx:{width:"100%",margin:"1rem 0",bgcolor:"#fff"},variant:"outlined",label:"Enter full name",type:"text",required:!0}),Object(T.jsx)(f.a,{name:"handle",onChange:function(e){return r((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},sx:{width:"100%",margin:"1rem 0",bgcolor:"#fff"},variant:"outlined",label:"Choose an handle",type:"text",required:!0}),Object(T.jsx)(f.a,{name:"email",onChange:function(e){return r((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},sx:{width:"100%",margin:"1rem 0",bgcolor:"#fff"},variant:"outlined",label:"Enter Email",type:"email",required:!0}),Object(T.jsx)(f.a,{name:"password",onChange:function(e){return r((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},sx:{width:"100%",margin:"1rem 0",bgcolor:"#fff"},variant:"outlined",label:"Enter Password",type:"password",required:!0}),Object(T.jsx)(O.a,{disabled:0===n.email.trimStart().length||0===n.password.trimStart().length||0===n.handle.trimStart().length||0===n.name.trimStart().length,type:"submit",sx:{width:"100%",margin:"1.5rem 0",padding:"12px 0",borderRadius:"28px"},variant:"contained",color:"primary",children:"loading"===o?Object(T.jsx)(g.a,{size:24,sx:{color:"#FFF"}}):"Register"})]})}var B=n(254),F=n(91);function U(){var e=Object(a.useState)(!0),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(b.a)();return Object(T.jsx)(x.a,{display:"flex",justifyContent:"center",alignItems:"center",sx:{width:"100vw",height:"100vh"},children:Object(T.jsxs)(x.a,{borderRadius:c.shape.borderRadius,sx:{width:c.breakpoints.values.sm,bgcolor:"#EFF3F4",padding:" 3rem 2rem"},children:[Object(T.jsx)(x.a,{textAlign:"center",marginBottom:"1rem",children:Object(T.jsx)("img",{src:"/logo.png",alt:"Logo"})}),n?Object(T.jsx)(F.a,{variant:"h5",children:"Login to your account"}):Object(T.jsx)(F.a,{variant:"h5",children:"Create a new account"}),n?Object(T.jsx)(W,{}):Object(T.jsx)(E,{}),n?Object(T.jsxs)(x.a,{textAlign:"center",margin:".5rem 0",children:["Don't have an account?"," ",Object(T.jsx)(B.a,{style:{textDecoration:"none",cursor:"pointer"},onClick:function(){return r(!1)},children:"Create one"})]}):Object(T.jsxs)(x.a,{textAlign:"center",margin:".5rem 0",children:["Already registered?"," ",Object(T.jsx)(B.a,{style:{textDecoration:"none",cursor:"pointer"},onClick:function(){return r(!0)},children:"Sign in"})]})]})})}var J,N=n(257),M=n(249),G=n(242),H=n(243),q=n(131),Y=n.n(q),X=n(248),K=n(262),Q=n(252),V=n(255),Z=n(132),$=n.n(Z),ee=n(133),te=n.n(ee),ne=n(134),re=n.n(ne),ae=n(63),ce=n.n(ae),ie=n(135),se=n.n(ie),oe=n(31),le=n(260),de=n(264),ue=n(263),je=n(261),xe=n(129),be=n.n(xe),pe=n(57),he=n(241);function fe(e){var t=e.children,n=e.open,r=e.handleClose,a=e.handleSave,c=e.saveText,i=e.len,s=Object(pe.a)();return Object(T.jsxs)(le.a,{open:n,onClose:r,fullWidth:!0,maxWidth:"sm",children:[Object(T.jsx)(je.a,{children:Object(T.jsx)(he.a,{textAlign:"right",borderBottom:"1px solid #ccc",children:Object(T.jsx)(K.a,{onClick:r,children:Object(T.jsx)(be.a,{})})})}),Object(T.jsx)(ue.a,{children:t}),Object(T.jsx)(de.a,{children:Object(T.jsx)(O.a,{disabled:0===i,variant:"contained",color:"primary",size:"small",sx:{borderRadius:s.shape.borderRadius,fontSize:"12px"},onClick:function(){a(),r()},children:c})})]})}var Oe=Object(k.b)("post/getPosts",Object(S.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/api/posts");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),ge=Object(k.b)("post/getPostDetails",function(){var e=Object(S.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/api/posts/"+t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),me=Object(k.b)("post/getComments",function(){var e=Object(S.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/api/comments/"+t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),we=Object(k.c)({name:"post",initialState:{status:"idle",posts:[],postDetails:{},commentStatus:"idle",comments:[]},reducers:{updateLike:function(e,t){var n=e.posts.findIndex((function(e){return e._id===t.payload.id}));e.posts[n].isLiked=!e.posts[n].isLiked}},extraReducers:(J={},Object(p.a)(J,Oe.pending,(function(e,t){e.status="loading"})),Object(p.a)(J,Oe.fulfilled,(function(e,t){e.status="success",e.posts=t.payload.response.posts})),Object(p.a)(J,Oe.rejected,(function(e,t){e.status="failed"})),Object(p.a)(J,ge.pending,(function(e,t){e.status="loading"})),Object(p.a)(J,ge.fulfilled,(function(e,t){e.status="success",e.postDetails=t.payload.response.post})),Object(p.a)(J,ge.rejected,(function(e,t){e.status="failed"})),Object(p.a)(J,me.pending,(function(e,t){e.commentStatus="loading"})),Object(p.a)(J,me.fulfilled,(function(e,t){e.commentStatus="success",e.comments=t.payload.response.comments})),Object(p.a)(J,me.rejected,(function(e,t){e.commentStatus="failed"})),J)}),ve=we.reducer,ye=we.actions.updateLike,Se=function(){var e=Object(S.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/api/posts",t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert("Something went wrong.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(S.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/api/comments/"+t.id,t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert("Something went wrong.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(S.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/api/posts/likes",t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert("Something went wrong.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(S.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.delete("/api/posts/".concat(t.id));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert("Something went wrong.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(S.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/api/followers",t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert("Something went wrong.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(S.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/api/followings",t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert("Something went wrong.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(S.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.delete("/api/followers/"+t.id+"?userId="+t.userId);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert("Something went wrong.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Object(S.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.delete("/api/followings?followingId="+t.id+"&userId="+t.userId);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert("Something went wrong.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();function De(){var e=Object(b.a)(),t=Object(m.b)(),n=JSON.parse(localStorage.getItem("login"))._id,r=a.useState(!1),c=Object(j.a)(r,2),i=c[0],s=c[1],o=function(){s(!0)},l=a.useState(""),d=Object(j.a)(l,2),u=d[0],p=d[1],h=function(){var e=Object(S.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se({text:u});case 2:e.sent&&(t(Oe()),p(""));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(x.a,{sx:{height:"100vh",maxWidth:"100%"},children:[Object(T.jsx)(x.a,{textAlign:"center",children:Object(T.jsx)(oe.b,{to:"/",style:{textDecoration:"none",color:"inherit",backgroundColor:"inherit"},children:Object(T.jsx)("img",{src:"/logo.png",alt:"logo",width:"50px"})})}),Object(T.jsxs)(N.a,{children:[Object(T.jsx)(oe.c,{to:"/",style:{textDecoration:"none",color:"inherit",backgroundColor:"inherit"},children:Object(T.jsxs)(M.a,{button:!0,sx:{borderRadius:"28px",margin:".5rem 0"},children:[Object(T.jsx)(G.a,{children:Object(T.jsx)(Y.a,{fontSize:"medium",color:"action"})}),Object(T.jsx)(X.a,{lgDown:!0,children:Object(T.jsx)(H.a,{primaryTypographyProps:{fontSize:"18px",color:e.palette.action.active},primary:"Home"})})]})}),Object(T.jsxs)(M.a,{button:!0,sx:{borderRadius:"28px",margin:".5rem 0"},children:[Object(T.jsx)(G.a,{children:Object(T.jsx)($.a,{fontSize:"medium",color:"action"})}),Object(T.jsx)(X.a,{lgDown:!0,children:Object(T.jsx)(H.a,{primaryTypographyProps:{fontSize:"18px",color:e.palette.action.active},primary:"Bookmarks"})})]}),Object(T.jsxs)(M.a,{button:!0,sx:{borderRadius:"28px",margin:".5rem 0"},children:[Object(T.jsx)(G.a,{children:Object(T.jsx)(ce.a,{fontSize:"medium",color:"action"})}),Object(T.jsx)(X.a,{lgDown:!0,children:Object(T.jsx)(H.a,{primaryTypographyProps:{fontSize:"18px",color:e.palette.action.active},primary:"Likes"})})]}),Object(T.jsx)(oe.c,{to:"/profile/".concat(n),style:{textDecoration:"none",color:"inherit",backgroundColor:"inherit"},children:Object(T.jsxs)(M.a,{button:!0,sx:{borderRadius:"28px",margin:".5rem 0"},children:[Object(T.jsx)(G.a,{children:Object(T.jsx)(te.a,{fontSize:"medium",color:"action"})}),Object(T.jsx)(X.a,{lgDown:!0,children:Object(T.jsx)(H.a,{primaryTypographyProps:{fontSize:"18px",color:e.palette.action.active},primary:"Profile"})})]})}),Object(T.jsxs)(M.a,{id:"basic-button",button:!0,sx:{borderRadius:"28px",margin:".5rem 0"},onClick:function(){t(P())},children:[Object(T.jsx)(G.a,{children:Object(T.jsx)(re.a,{fontSize:"medium",color:"action"})}),Object(T.jsx)(X.a,{lgDown:!0,children:Object(T.jsx)(H.a,{primaryTypographyProps:{fontSize:"18px",color:e.palette.action.active},primary:"Logout"})})]})]}),Object(T.jsx)(X.a,{lgDown:!0,children:Object(T.jsx)(O.a,{onClick:o,variant:"contained",color:"primary",fullWidth:!0,style:{borderRadius:"28px",padding:"10px",textTransform:"capitalize"},children:"Post"})}),Object(T.jsx)(X.a,{lgUp:!0,children:Object(T.jsx)(K.a,{onClick:o,variant:"contained",color:"primary",style:{borderRadius:"28px",padding:"0 15px",textTransform:"capitalize",textAlign:"center"},children:Object(T.jsx)(se.a,{})})})]}),i&&Object(T.jsx)(fe,{open:i,handleClose:function(){s(!1)},saveText:"Post",len:u.trimStart().length,handleSave:h,children:Object(T.jsx)(x.a,{children:Object(T.jsxs)(Q.a,{container:!0,children:[Object(T.jsx)(Q.a,{item:!0,children:Object(T.jsx)("img",{src:"/logo.png",alt:"logo",width:"60px"})}),Object(T.jsx)(Q.a,{item:!0,flexGrow:"1",children:Object(T.jsx)(x.a,{padding:".5rem 0",children:Object(T.jsx)(V.a,{value:u,onChange:function(e){return p(e.target.value)},multiline:!0,rows:"2",disableUnderline:!0,type:"text",placeholder:"What's happening?",sx:{width:"100%"}})})})]})})})]})}var Ae,Pe=n(244),Te=Object(k.b)("follow/getFollowings",function(){var e=Object(S.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/api/followings/"+t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),We=Object(k.b)("follow/getFollowers",function(){var e=Object(S.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/api/followers/"+t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ee=Object(k.c)({name:"follow",initialState:{followingStatus:"idle",followings:[],followerStatus:"idle",followers:[]},reducers:{},extraReducers:(Ae={},Object(p.a)(Ae,Te.pending,(function(e,t){e.followingStatus="loading"})),Object(p.a)(Ae,Te.fulfilled,(function(e,t){e.followingStatus="success",e.followings=t.payload.response.followings})),Object(p.a)(Ae,Te.rejected,(function(e,t){e.followingStatus="failed"})),Object(p.a)(Ae,We.pending,(function(e,t){e.followerStatus="loading"})),Object(p.a)(Ae,We.fulfilled,(function(e,t){e.followerStatus="success",e.followers=t.payload.response.followers})),Object(p.a)(Ae,We.rejected,(function(e,t){e.followerStatus="failed"})),Ae)}).reducer;function Be(e){var t=e.user,n=Object(b.a)(),r=JSON.parse(localStorage.getItem("login"))._id,a=Object(m.b)(),c=function(){var e=Object(S.a)(y.a.mark((function e(){var n,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce({userId:t._id,followerId:r});case 2:return n=e.sent,e.next=5,Le({followingId:t._id,userId:r});case 5:c=e.sent,n&&a(We(r)),c&&a(Te(r));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsx)(he.a,{margin:"1rem 0",children:Object(T.jsxs)(Q.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[Object(T.jsx)(Q.a,{item:!0,children:Object(T.jsxs)(Q.a,{container:!0,children:[Object(T.jsx)(oe.b,{to:"/profile/".concat(t._id),children:Object(T.jsx)(Q.a,{item:!0,sx:{paddingRight:"12px"},children:Object(T.jsx)("img",{src:"/logo.png",width:"50px",alt:"logo"})})}),Object(T.jsx)(Q.a,{item:!0,children:Object(T.jsx)(Q.a,{container:!0,alignItems:"center",children:Object(T.jsxs)(Q.a,{item:!0,children:[Object(T.jsx)(F.a,{sx:{fontSize:"16px",fontWeight:"500"},children:t.name}),Object(T.jsx)(he.a,{display:"flex",alignItems:"center",children:Object(T.jsx)(F.a,{sx:{fontSize:"14px",mr:"6px",color:"#555"},children:t.handle})})]})})})]})}),Object(T.jsx)(Q.a,{item:!0,children:Object(T.jsx)(O.a,{onClick:c,size:"small",sx:{borderRadius:n.shape.borderRadius,textTransform:"capitalize",ml:"12px",background:"black","&:hover":{background:"#333"}},variant:"contained",children:"Follow"})})]})})}function Fe(){var e=c.a.useState(""),t=Object(j.a)(e,2),n=t[0],r=t[1],i=JSON.parse(localStorage.getItem("login"))._id,s=Object(m.b)(),o=Object(m.c)((function(e){return e.auth})),l=o.users,d=o.userStatus,u=Object(m.c)((function(e){return e.follow})),x=u.followingStatus,b=u.followings;function p(){return l.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())||e.handle.toLowerCase().includes(n.toLowerCase())}))}return Object(a.useEffect)((function(){s(Te(i))}),[s,i]),Object(T.jsx)(he.a,{sx:{height:"100%"},children:Object(T.jsxs)(he.a,{paddingTop:"10px",children:[Object(T.jsxs)(he.a,{width:"100%",borderRadius:"28px",border:"1px solid #eee",position:"relative",sx:{background:"#eee"},children:[Object(T.jsx)(V.a,{value:n,onChange:function(e){return r(e.target.value)},type:"text",inputProps:{style:{padding:"10px"}},disableUnderline:!0,fullWidth:!0,placeholder:"Search",startAdornment:Object(T.jsx)(Pe.a,{sx:{paddingLeft:"20px",color:"#777"}})}),0!==n.length&&Object(T.jsxs)(he.a,{width:"100%",sx:{backgroundColor:"white",border:"1px solid #eee",borderRadius:"28px",padding:"1rem 0",zIndex:"999",maxHeight:"50vh",overflowY:"scroll"},position:"absolute",children:[0!==n.length&&0===p().length&&Object(T.jsx)(F.a,{sx:{padding:"0 1rem"},children:"No users found!"}),p().map((function(e){return Object(T.jsx)(he.a,{children:Object(T.jsx)(oe.b,{onClick:function(){return r("")},style:{textDecoration:"none"},to:"/profile/".concat(e._id),children:Object(T.jsxs)(Q.a,{sx:{overflow:"hidden",padding:".2rem 1rem","&:hover":{backgroundColor:"#eee"}},container:!0,alignItems:"center",children:[Object(T.jsx)(Q.a,{item:!0,sx:{paddingRight:"12px"},children:Object(T.jsx)("img",{src:"/logo.png",width:"50px",alt:"logo"})}),Object(T.jsx)(Q.a,{item:!0,children:Object(T.jsx)(Q.a,{container:!0,alignItems:"center",children:Object(T.jsxs)(Q.a,{item:!0,children:[Object(T.jsx)(F.a,{sx:{fontSize:"16px",fontWeight:"500",color:"#000"},children:e.name}),Object(T.jsx)(he.a,{display:"flex",alignItems:"center",children:Object(T.jsx)(F.a,{sx:{fontSize:"14px",mr:"6px",color:"#555"},children:e.handle})})]})})})]})})},e._id)}))]})]}),Object(T.jsxs)(he.a,{sx:{background:"#eee",borderRadius:"28px",padding:"10px 20px",margin:"1rem 0"},children:[Object(T.jsx)(F.a,{variant:"h6",sx:{fontWeight:"bold"},children:"Who to follow"}),Object(T.jsx)(he.a,{textAlign:"center",marginTop:"1rem",children:("loading"===d||"loading"===x)&&Object(T.jsx)(g.a,{size:20,color:"primary"})}),"success"===d&&l.filter((function(e){return e._id!==i})).filter((function(e){return-1===b.findIndex((function(t){return t.followingId===e._id}))})).slice(0,7).map((function(e){return Object(T.jsx)(Be,{user:e},e._id)}))]})]})})}function Ue(e){var t=e.children,n=Object(pe.a)(),r=Object(m.b)();return Object(a.useEffect)((function(){r(L())}),[r]),Object(T.jsx)(x.a,{sx:{maxWidth:n.breakpoints.values.lg,margin:"0 auto"},children:Object(T.jsxs)(Q.a,{container:!0,children:[Object(T.jsx)(Q.a,{item:!0,xs:1,lg:2,children:Object(T.jsx)(De,{})}),Object(T.jsx)(Q.a,{item:!0,xs:11,lg:10,children:Object(T.jsxs)(Q.a,{container:!0,children:[Object(T.jsx)(Q.a,{item:!0,xs:12,lg:8,children:Object(T.jsx)(x.a,{sx:{height:"100vh",margin:"0 1rem",borderLeft:"1px solid #ccc",borderRight:"1px solid #ccc"},children:t})}),Object(T.jsx)(X.a,{lgDown:!0,children:Object(T.jsx)(Q.a,{item:!0,lg:4,sx:{height:"100vh"},children:Object(T.jsx)(Fe,{})})})]})})]})})}var Je=n(86),Ne=n.n(Je),Me=n(52),Ge=n.n(Me),He=n(136),qe=n.n(He),Ye=n(137),Xe=n.n(Ye),Ke=n(138),Qe=n.n(Ke),Ve=n(139),Ze=n.n(Ve),$e=n(141),et=n(253),tt=n(87),nt=n(82),rt=n.n(nt),at=n(83),ct=n.n(at),it=n(84),st=n.n(it),ot=n(85),lt=n.n(ot);function dt(e){var t=e.post,n=e.profile,r=Object(m.b)(),i=Object(a.useState)(""),s=Object(j.a)(i,2),o=s[0],l=s[1],d=c.a.useState(null),u=Object(j.a)(d,2),x=u[0],b=u[1],p=Boolean(x),h=JSON.parse(localStorage.getItem("login"))._id,f=function(){var e=Object(S.a)(y.a.mark((function e(n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r(ye({id:t._id})),e.next=4,Ie({id:t._id});case 4:"Post updated successfully."!==e.sent.message&&r(ye({id:t._id}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(S.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke({id:t._id,text:o});case 2:e.sent&&l("");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(S.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.stopPropagation(),window.confirm("Are you sure to delete this post?")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,ze({id:t._id});case 6:e.sent&&r(n?C(t.author._id):Oe());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=c.a.useState(!1),v=Object(j.a)(w,2),k=v[0],I=v[1];return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(oe.b,{to:"/posts/".concat(t._id),style:{textDecoration:"none",color:"inherit"},children:Object(T.jsx)(he.a,{padding:"1rem",sx:{"&:hover":{backgroundColor:"#eee"}},children:Object(T.jsxs)(Q.a,{container:!0,flexWrap:"nowrap",children:[Object(T.jsx)(Q.a,{item:!0,sx:{paddingRight:"1rem"},children:Object(T.jsx)(oe.b,{to:"/profile/".concat(t.author._id),children:Object(T.jsx)("img",{src:"/logo.png",alt:"lgoog",width:"50px"})})}),Object(T.jsx)(Q.a,{item:!0,flexGrow:"1",children:Object(T.jsxs)(he.a,{children:[Object(T.jsxs)(Q.a,{container:!0,justifyContent:"space-between",alignItems:"center",flexWrap:"nowrap",children:[Object(T.jsxs)(Q.a,{item:!0,children:[Object(T.jsxs)(he.a,{display:"flex",children:[Object(T.jsx)(F.a,{sx:{fontSize:"16px",fontWeight:500,mr:"6px"},children:t.author.name}),Object(T.jsxs)(F.a,{sx:{fontSize:"15px",mr:"6px",color:"#555"},children:["@",t.author.handle]}),Object(T.jsx)(F.a,{sx:{fontSize:"15px",mr:"6px",color:"#555"},children:"."}),Object(T.jsx)(F.a,{sx:{fontSize:"15px",mr:"6px",color:"#555"},children:Object(tt.a)(new Date(t.createdAt))})]}),Object(T.jsx)(he.a,{children:Object(T.jsx)(F.a,{sx:{fontSize:"15px",color:"#555"},children:t.text})})]}),Object(T.jsxs)(Q.a,{item:!0,children:[t.author._id===h&&Object(T.jsx)(K.a,{"aria-expanded":p?"true":void 0,onClick:function(e){e.preventDefault(),b(e.currentTarget)},children:Object(T.jsx)(Ge.a,{})}),Object(T.jsx)($e.a,{id:"basic-menu",anchorEl:x,open:p,onClose:function(){b(null)},onClick:function(e){return e.stopPropagation()},MenuListProps:{"aria-labelledby":"basic-button"},children:Object(T.jsx)(et.a,{onClick:function(e){return g(e)},children:"Delete Post"})})]})]}),Object(T.jsxs)(he.a,{display:"flex",justifyContent:"space-between",marginRight:"5rem",marginTop:".8rem",children:[Object(T.jsx)(K.a,{onClick:function(e){e.preventDefault(),I(!0)},size:"small",children:Object(T.jsx)(rt.a,{fontSize:"small"})}),Object(T.jsx)(K.a,{size:"small",children:Object(T.jsx)(ct.a,{fontSize:"small"})}),Object(T.jsx)(K.a,{onClick:f,size:"small",children:t.isLiked?Object(T.jsx)(ce.a,{fontSize:"small"}):Object(T.jsx)(st.a,{fontSize:"small"})}),Object(T.jsx)(K.a,{size:"small",children:Object(T.jsx)(lt.a,{fontSize:"small"})})]})]})})]})})}),k&&Object(T.jsx)(fe,{open:k,handleClose:function(){I(!1)},saveText:"Comment",len:o.trimStart().length,handleSave:O,children:Object(T.jsx)(he.a,{children:Object(T.jsxs)(Q.a,{container:!0,children:[Object(T.jsx)(Q.a,{item:!0,children:Object(T.jsx)("img",{src:"/logo.png",alt:"logo",width:"60px"})}),Object(T.jsx)(Q.a,{item:!0,flexGrow:"1",children:Object(T.jsx)(he.a,{padding:".5rem 0",children:Object(T.jsx)(V.a,{onChange:function(e){return l(e.target.value)},value:o,multiline:!0,rows:"2",disableUnderline:!0,type:"text",placeholder:"Post your comment",sx:{width:"100%"}})})})]})})})]})}var ut=n(72);function jt(){var e=Object(b.a)(),t=Object(w.h)().id,n=Object(m.b)(),r=Object(m.c)((function(e){return e.auth})),c=r.profile,i=r.status,s=Object(m.c)((function(e){return e.follow})),o=s.followingStatus,l=s.followerStatus,d=s.followers,u=s.followings,j=JSON.parse(localStorage.getItem("login"))._id;Object(a.useEffect)((function(){n(C(t))}),[n,t]),Object(a.useEffect)((function(){c.userId&&(n(We(c.userId._id)),n(Te(c.userId._id)))}),[n,c.userId]);var x=function(){var e=Object(S.a)(y.a.mark((function e(){var r,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce({userId:c.userId._id,followerId:j});case 2:return r=e.sent,e.next=5,Le({followingId:c.userId._id,userId:j});case 5:a=e.sent,r&&n(We(t)),a&&n(Te(t));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(S.a)(y.a.mark((function e(){var r,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re({id:j,userId:c.userId._id});case 2:return r=e.sent,e.next=5,_e({id:c.userId._id,userId:j});case 5:a=e.sent,r&&n(We(t)),a&&n(Te(t));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function h(){if(c.userId)return j===c.userId._id}function f(){if(d)return-1===d.findIndex((function(e){return e.followerId===j}))}return Object(T.jsxs)(he.a,{children:[Object(T.jsx)(he.a,{borderBottom:"1px solid #ccc",padding:"8px 20px",children:Object(T.jsxs)(Q.a,{container:!0,alignItems:"center",children:[Object(T.jsx)(Q.a,{item:!0,sx:{mr:"10px"},children:Object(T.jsx)(oe.b,{to:"/",children:Object(T.jsx)(K.a,{children:Object(T.jsx)(Ne.a,{})})})}),"success"===i&&Object(T.jsxs)(Q.a,{item:!0,children:[Object(T.jsx)(F.a,{variant:"h6",children:c.userId&&c.userId&&c.userId.name}),Object(T.jsxs)(F.a,{sx:{fontSize:"12px",color:"#555"},children:[c.posts&&c.posts.length," posts"]})," "]})]})}),Object(T.jsx)(he.a,{textAlign:"center",children:"loading"===i&&Object(T.jsx)(he.a,{marginTop:"1rem",children:Object(T.jsx)(g.a,{size:20,color:"primary"})})}),"success"===i&&Object(T.jsxs)(he.a,{height:"90vh",sx:{overflowY:"scroll"},children:[Object(T.jsxs)(he.a,{position:"relative",children:[Object(T.jsx)("img",{width:"100%",src:c.backgroundImageUrl,alt:"background"}),Object(T.jsx)(he.a,{sx:{position:"absolute",top:120,left:15,background:"#eee",borderRadius:"50%"},children:Object(T.jsx)("img",{width:"150px",src:c.profileImageUrl,alt:"profile"})})]}),Object(T.jsxs)(he.a,{textAlign:"right",padding:"10px 20px",children:[Object(T.jsx)(K.a,{children:Object(T.jsx)(Ge.a,{})}),Object(T.jsx)(K.a,{children:Object(T.jsx)(qe.a,{})}),!h()&&f()&&Object(T.jsx)(O.a,{onClick:x,size:"small",sx:{borderRadius:e.shape.borderRadius,textTransform:"capitalize",padding:"6px 20px",background:"black","&:hover":{background:"#333"}},variant:"contained",children:"Follow"}),!h()&&!f()&&Object(T.jsx)(O.a,{onClick:p,size:"small",sx:{borderRadius:e.shape.borderRadius,textTransform:"capitalize",padding:"6px 20px",background:"black","&:hover":{background:"#333"}},variant:"contained",children:"Unfollow"})]}),Object(T.jsxs)(he.a,{padding:"10px 20px",children:[Object(T.jsx)(F.a,{variant:"h6",sx:{fontWeight:"500"},children:c.userId&&c.userId.name}),Object(T.jsxs)(F.a,{sx:{fontSize:"14px",color:"#555"},children:["@",c.userId&&c.userId.handle]}),Object(T.jsx)(F.a,{fontSize:"16px",color:"#333",padding:"10px 0",children:c.bio}),Object(T.jsxs)(he.a,{display:"flex",alignItems:"center",padding:"6px 0",flexWrap:"wrap",children:[Object(T.jsxs)(he.a,{display:"flex",children:[Object(T.jsx)(Xe.a,{htmlColor:"#555"}),Object(T.jsx)(F.a,{sx:{ml:"6px",color:"#555"},children:c.location})]}),Object(T.jsxs)(he.a,{display:"flex",marginLeft:"1rem",children:[Object(T.jsx)(Qe.a,{htmlColor:"#555"}),Object(T.jsx)(B.a,{sx:{textDecoration:"none",marginLeft:"6px"},href:c.website||"https:/wasifbaliyan.com",children:c.website?c.website:"www"})]}),Object(T.jsxs)(he.a,{display:"flex",marginLeft:"1rem",children:[Object(T.jsx)(Ze.a,{htmlColor:"#555"}),Object(T.jsx)(F.a,{sx:{ml:"6px",color:"#555"},children:c.userId&&c.userId&&c.userId.createdAt&&Object(ut.a)(new Date(c.userId.createdAt),"MMM dd yyyy")})]})]}),Object(T.jsxs)(he.a,{display:"flex",children:[Object(T.jsxs)(F.a,{color:"#555",marginRight:"1rem",children:[Object(T.jsx)("strong",{style:{color:"black"},children:"success"===o&&u.length}),"Following"]}),Object(T.jsxs)(F.a,{color:"#555",marginRight:"1rem",children:[Object(T.jsx)("strong",{style:{color:"black"},children:"success"===l&&d.length}),"Followers"]})]})]}),Object(T.jsx)(he.a,{borderBottom:"1px solid #ccc",children:Object(T.jsx)(F.a,{display:"inline-block",variant:"caption",fontSize:"16px",marginX:"1rem",padding:"6px 0",fontWeight:"500",borderBottom:"4px solid ".concat(e.palette.primary.main),children:"Posts"})}),c.posts&&c.posts.map((function(e){return Object(T.jsx)(dt,{post:e,profile:!0},e._id)}))]})]})}var xt=n(142),bt=["path"];function pt(e){var t=e.path,n=Object(xt.a)(e,bt);return Object(m.c)((function(e){return e.auth})).isLoggedIn?Object(T.jsx)(w.b,Object(h.a)({path:t},n)):Object(T.jsx)(w.a,{to:"/login"})}var ht=n(140),ft=n.n(ht);function Ot(){var e=Object(m.b)(),t=Object(pe.a)(),n=Object(a.useState)(""),r=Object(j.a)(n,2),c=r[0],i=r[1],s=function(){var t=Object(S.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Se({text:c});case 2:t.sent&&(e(Oe()),i(""));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(T.jsx)(he.a,{padding:"1rem 1rem 0 1rem",borderBottom:"1px solid #ccc",children:Object(T.jsxs)(Q.a,{container:!0,children:[Object(T.jsx)(Q.a,{item:!0,sx:{paddingRight:"1rem"},children:Object(T.jsx)("img",{src:"/logo.png",alt:"lgogo",width:"50px"})}),Object(T.jsxs)(Q.a,{item:!0,flexGrow:"1",children:[Object(T.jsx)(he.a,{padding:".5rem 0",children:Object(T.jsx)(V.a,{value:c,onChange:function(e){return i(e.target.value)},multiline:!0,rows:"2",disableUnderline:!0,type:"text",placeholder:"What's happening?",sx:{width:"100%"}})}),Object(T.jsx)(he.a,{textAlign:"right",paddingBottom:".5rem",paddingTop:".5rem",borderTop:"1px solid #ccc",children:Object(T.jsx)(O.a,{onClick:s,disabled:0===c.trimStart().length,variant:"contained",color:"primary",sx:{borderRadius:t.shape.borderRadius,fontSize:"12px"},children:"Post"})})]})]})})}function gt(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.post})),n=t.status,r=t.posts;return Object(a.useEffect)((function(){e(Oe())}),[e]),Object(T.jsxs)(he.a,{children:[Object(T.jsx)(he.a,{borderBottom:"1px solid #ccc",padding:"8px 20px",children:Object(T.jsxs)(Q.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(T.jsx)(Q.a,{item:!0,children:Object(T.jsx)(F.a,{variant:"h6",children:"Home"})}),Object(T.jsx)(Q.a,{item:!0,children:Object(T.jsx)(K.a,{children:Object(T.jsx)(ft.a,{})})})]})}),Object(T.jsxs)(he.a,{height:"92vh",sx:{overflowY:"scroll"},children:[Object(T.jsx)(Ot,{}),Object(T.jsx)(he.a,{textAlign:"center",marginTop:"1rem",children:"loading"===n&&Object(T.jsx)(g.a,{size:20,color:"primary"})}),"success"===n&&r.map((function(e){return Object(T.jsx)(dt,{post:e},e._id)}))]})]})}function mt(e){var t=e.comment;return Object(T.jsx)(he.a,{padding:"1rem",sx:{"&:hover":{backgroundColor:"#eee"}},children:Object(T.jsxs)(Q.a,{container:!0,flexWrap:"nowrap",children:[Object(T.jsx)(Q.a,{item:!0,sx:{paddingRight:"1rem"},children:Object(T.jsx)("img",{src:"/logo.png",alt:"lgoog",width:"50px"})}),Object(T.jsx)(Q.a,{item:!0,flexGrow:"1",children:Object(T.jsx)(he.a,{children:Object(T.jsxs)(Q.a,{container:!0,justifyContent:"space-between",alignItems:"center",flexWrap:"nowrap",children:[Object(T.jsxs)(Q.a,{item:!0,children:[Object(T.jsxs)(he.a,{display:"flex",children:[Object(T.jsx)(F.a,{sx:{fontSize:"16px",fontWeight:500,mr:"6px"},children:t.author.name}),Object(T.jsxs)(F.a,{sx:{fontSize:"15px",mr:"6px",color:"#555"},children:["@",t.author.handle]}),Object(T.jsx)(F.a,{sx:{fontSize:"15px",mr:"6px",color:"#555"},children:"."}),Object(T.jsxs)(F.a,{sx:{fontSize:"15px",mr:"6px",color:"#555"},children:[Object(tt.a)(new Date(t.createdAt))," "]})]}),Object(T.jsx)(he.a,{children:Object(T.jsx)(F.a,{sx:{fontSize:"15px",color:"#555"},children:t.text})})]}),Object(T.jsx)(Q.a,{item:!0,children:Object(T.jsx)(K.a,{children:Object(T.jsx)(Ge.a,{})})})]})})})]})})}function wt(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],i=Object(b.a)(),s=Object(w.h)().id,o=Object(w.g)(),l=Object(m.b)(),d=Object(m.c)((function(e){return e.post})),u=d.status,x=d.comments,p=d.commentStatus,h=d.postDetails,f=c.a.useState(null),v=Object(j.a)(f,2),k=v[0],I=v[1],z=Boolean(k),C=JSON.parse(localStorage.getItem("login"))._id,L=function(){var e=Object(S.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze({id:h._id});case 2:e.sent&&o.push("/");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(S.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Ie({id:h._id});case 3:e.sent&&(l(ge(s)),l(me(s)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){l(ge(s)),l(me(s))}),[l,s]);var _=function(){var e=Object(S.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke({id:s,text:n});case 2:e.sent&&(l(me(s)),r(""));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(he.a,{children:[Object(T.jsx)(he.a,{borderBottom:"1px solid #ccc",padding:"8px 20px",children:Object(T.jsxs)(Q.a,{container:!0,alignItems:"center",children:[Object(T.jsx)(Q.a,{item:!0,sx:{mr:"10px"},children:Object(T.jsx)(K.a,{onClick:function(){return o.push("/")},children:Object(T.jsx)(Ne.a,{})})}),Object(T.jsx)(Q.a,{item:!0,children:Object(T.jsx)(F.a,{variant:"h6",children:"Post"})})]})}),Object(T.jsxs)(he.a,{height:"92vh",sx:{overflowY:"scroll"},children:[Object(T.jsx)(he.a,{textAlign:"center",marginTop:"1rem",children:"loading"===u&&Object(T.jsx)(g.a,{size:20,color:"primary"})}),"success"===u&&Object(T.jsxs)(he.a,{padding:"0 20px",children:[Object(T.jsx)(he.a,{children:Object(T.jsxs)(Q.a,{container:!0,alignItems:"center",children:[Object(T.jsx)(Q.a,{item:!0,children:Object(T.jsx)("img",{src:"/logo.png",alt:"lgogo",width:"60px"})}),Object(T.jsx)(Q.a,{item:!0,flexGrow:"1",children:Object(T.jsxs)(Q.a,{container:!0,justifyContent:"space-between",children:[Object(T.jsxs)(Q.a,{item:!0,children:[Object(T.jsx)(F.a,{sx:{fontSize:"16px",fontWeight:"500"},children:h.author&&h.author.name}),Object(T.jsxs)(F.a,{sx:{fontSize:"15px",color:"#555"},children:["@",h.author&&h.author.handle]})]}),Object(T.jsxs)(Q.a,{item:!0,children:["success"===u&&h.author&&C===h.author._id&&Object(T.jsx)(K.a,{"aria-expanded":z?"true":void 0,onClick:function(e){e.preventDefault(),I(e.currentTarget)},children:Object(T.jsx)(Ge.a,{})}),Object(T.jsx)($e.a,{id:"basic-menu",anchorEl:k,open:z,onClose:function(){I(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:Object(T.jsx)(et.a,{onClick:function(e){e.preventDefault(),L()},children:"Delete Post"})})]})]})})]})}),Object(T.jsx)(he.a,{children:Object(T.jsx)(F.a,{sx:{fontSize:"20px"},children:h.text})}),Object(T.jsxs)(he.a,{display:"flex",padding:"1rem 0",borderBottom:"1px solid #ccc",children:[Object(T.jsx)(F.a,{sx:{fontSize:"14px",mr:"6px",color:"#555"},children:h&&h.createdAt&&Object(ut.a)(new Date(h.createdAt),"HH:mm a")}),Object(T.jsx)(F.a,{sx:{fontSize:"14px",mr:"6px",color:"#555"},children:"."}),Object(T.jsx)(F.a,{sx:{fontSize:"14px",mr:"6px",color:"#555"},children:h&&h.createdAt&&Object(ut.a)(new Date(h.createdAt),"MMM dd yyyy")})]}),Object(T.jsx)(he.a,{display:"flex",padding:"1rem 0",borderBottom:"1px solid #ccc",children:Object(T.jsxs)(F.a,{sx:{fontSize:"14px",mr:"6px",color:"#555"},children:[Object(T.jsx)("strong",{children:h.likes&&h.likes.length})," ","Likes"]})}),Object(T.jsxs)(he.a,{display:"flex",justifyContent:"space-around",padding:".5rem 0",borderBottom:"1px solid #ccc",children:[Object(T.jsx)(K.a,{size:"small",children:Object(T.jsx)(rt.a,{fontSize:"small"})}),Object(T.jsx)(K.a,{size:"small",children:Object(T.jsx)(ct.a,{fontSize:"small"})}),Object(T.jsx)(K.a,{onClick:R,size:"small",children:h.isLiked?Object(T.jsx)(ce.a,{fontSize:"small"}):Object(T.jsx)(st.a,{fontSize:"small"})}),Object(T.jsx)(K.a,{size:"small",children:Object(T.jsx)(lt.a,{fontSize:"small"})})]}),Object(T.jsxs)(he.a,{children:[Object(T.jsxs)(Q.a,{container:!0,children:[Object(T.jsx)(Q.a,{item:!0,children:Object(T.jsx)("img",{src:"/logo.png",alt:"logo",width:"60px"})}),Object(T.jsxs)(Q.a,{item:!0,flexGrow:"1",children:[Object(T.jsx)(he.a,{padding:".5rem 0",children:Object(T.jsx)(V.a,{onChange:function(e){return r(e.target.value)},value:n,multiline:!0,rows:"2",disableUnderline:!0,type:"text",placeholder:"Post your comment",sx:{width:"100%"}})}),Object(T.jsx)(he.a,{textAlign:"right",paddingBottom:".5rem",children:Object(T.jsx)(O.a,{disabled:0===n.length,onClick:_,variant:"contained",color:"primary",size:"small",sx:{borderRadius:i.shape.borderRadius,fontSize:"12px"},children:"Comment"})})]})]}),Object(T.jsx)(he.a,{textAlign:"center",marginTop:"1rem",children:"loading"===p&&Object(T.jsx)(g.a,{size:20,color:"primary"})}),"success"===p&&x.map((function(e){return Object(T.jsx)(mt,{comment:e},e._id)}))]})]})]})]})}var vt=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.auth})).isLoggedIn;return Object(a.useEffect)((function(){if("login"in localStorage){var e=JSON.parse(localStorage.getItem("login"));l.a.defaults.headers.common.authorization="Bearer ".concat(e.token)}}),[t]),Object(a.useEffect)((function(){var t=(JSON.parse(localStorage.getItem("login"))||{}).isLoggedIn;t&&e(A({isLoggedIn:t}))}),[e,t]),Object(T.jsxs)(w.d,{children:[Object(T.jsx)(pt,{exact:!0,path:"/profile/:id",children:Object(T.jsx)(Ue,{children:Object(T.jsx)(jt,{})})}),Object(T.jsx)(pt,{exact:!0,path:"/posts/:id",children:Object(T.jsx)(Ue,{children:Object(T.jsx)(wt,{})})}),Object(T.jsx)(pt,{exact:!0,path:"/",children:Object(T.jsx)(Ue,{children:Object(T.jsx)(gt,{})})}),Object(T.jsx)(w.b,{path:"/login",children:Object(T.jsx)(U,{})})]})},yt=Object(k.a)({reducer:{auth:_,post:ve,follow:Ee}}),St=Object(d.a)({});l.a.defaults.baseURL="http://localhost:3001/",console.log("Hey Developer,\n\nHope you're doing fine.\nThanks for stopping by.\n\n@wasifbaliyan"),s.a.render(Object(T.jsx)(c.a.StrictMode,{children:Object(T.jsx)(m.a,{store:yt,children:Object(T.jsx)(oe.a,{children:Object(T.jsx)(u.a,{theme:St,children:Object(T.jsx)(vt,{})})})})}),document.getElementById("root"))}},[[192,1,2]]]);
//# sourceMappingURL=main.0a3876e7.chunk.js.map